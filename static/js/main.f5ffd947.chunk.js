(window["webpackJsonpswagger-to-graphql-web"]=window["webpackJsonpswagger-to-graphql-web"]||[]).push([[0],{245:function(e,t,r){var n={".":87,"./":87,"./GraphQLLanguageService":172,"./GraphQLLanguageService.js":172,"./GraphQLLanguageService.js.flow":453,"./autocompleteUtils":130,"./autocompleteUtils.js":130,"./autocompleteUtils.js.flow":454,"./getAutocompleteSuggestions":104,"./getAutocompleteSuggestions.js":104,"./getAutocompleteSuggestions.js.flow":455,"./getDefinition":131,"./getDefinition.js":131,"./getDefinition.js.flow":456,"./getDiagnostics":133,"./getDiagnostics.js":133,"./getDiagnostics.js.flow":457,"./getHoverInformation":134,"./getHoverInformation.js":134,"./getHoverInformation.js.flow":458,"./getOutline":171,"./getOutline.js":171,"./getOutline.js.flow":459,"./index":87,"./index.js":87,"./index.js.flow":460};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=245},330:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBodyType=function(e){return Object.keys(e).includes("in")&&"body"===e.in},t.isObjectType=function(e){return!t.isBodyType(e)&&(Object.keys(e).includes("properties")||"object"===e.type)},t.isArrayType=function(e){return!t.isBodyType(e)&&(Object.keys(e).includes("items")||"array"===e.type)}},371:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,o){function i(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(i,s)}c((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this;Object.defineProperty(t,"__esModule",{value:!0});var c=r(19),u=r(714),p=r(717),l=i(r(805)),f=function(e,t,r,i){var c=i.callBackend;return Object.keys(e).filter(function(r){return!!e[r].mutation===!!t}).reduce(function(t,i){var u,l=e[i],f={type:p.jsonSchemaTypeToGraphQL(i,l.response||{type:"string"},"response",!1,r,!0),description:l.description,args:p.mapParametersToFields(l.parameters,i,r),resolve:function(e,t,r){return a(s,void 0,void 0,function(){return o(this,function(e){return[2,c({context:r,requestOptions:l.getRequestOptions(t)})]})})}};return n({},t,((u={})[i]=f,u))},{})},h=function(e,t){var r={},n=f(e,!1,r,t);if(!Object.keys(n).length)throw new Error("Did not find any GET endpoints");var a={query:new c.GraphQLObjectType({name:"Query",fields:n})},o=f(e,!0,r,t);return Object.keys(o).length&&(a.mutation=new c.GraphQLObjectType({name:"Mutation",fields:o})),new c.GraphQLSchema(a)};t.createSchema=function(e,t){return a(s,void 0,void 0,function(){var r,n,a;return o(this,function(o){switch(o.label){case 0:return[4,l.default.dereference(e)];case 1:return r=o.sent(),n=u.addTitlesToJsonSchemas(r),a=u.getAllEndPoints(n),[2,h(a,t)]}})})},t.default=t.createSchema},372:function(e,t,r){e.exports=r(845)},377:function(e,t,r){},516:function(e,t){},518:function(e,t){},549:function(e,t){},550:function(e,t){},594:function(e,t){},596:function(e,t){},619:function(e,t){},714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(715),a=r(716),o=r(330),i=function(e){return e.replace(/[^_a-zA-Z0-9]/g,"_")};t.getSuccessResponse=function(e){var t=Object.keys(e).find(function(e){return"2"===e[0]});if(t){var r=e[t];if(!r)throw new Error("Expected responses["+t+"] to be defined");return r.schema?r.schema:r.content?r.content["application/json"].schema:void 0}},t.addTitlesToJsonSchemas=function(e){var t=(e.components||{}).requestBodies||{};Object.keys(t).forEach(function(e){var r=t[e].content;Object.keys(r).forEach(function(t){var n=r[t];n&&(n.schema.title=n.schema.title||e)})});var r=(e.components||{}).schemas||{};Object.keys(r).forEach(function(e){var t=r[e];t.title=t.title||e});var n=e.definitions||{};return Object.keys(n).forEach(function(e){var t=n[e];t.title=t.title||e}),e},t.getServerPath=function(e){var t=e.servers&&Array.isArray(e.servers)?e.servers[0]:e.host?[e.schemes&&e.schemes[0]||"http","://",e.host,e.basePath].filter(Boolean).join(""):void 0;if(t){if("string"===typeof t)return t;var r=t.url;return t.variables?Object.keys(t.variables).reduce(function(e,r){var n=t.variables[r],a="string"===typeof n?n:n.default||n.enum[0];return e.replace("{"+r+"}",a)},r):r}},t.getParamDetails=function(e){var t=i(e.name),r=e.name;if(n.isOa3Param(e)){var a=e,o=a.schema,s=a.required;return{name:t,swaggerName:r,type:a.in,required:!!s,jsonSchema:o}}return{name:t,swaggerName:r,type:e.in,required:!!e.required,jsonSchema:e}};var s="application/x-www-form-urlencoded";t.getParamDetailsFromRequestBody=function(e){var t=e.content[s];if(t){var r=t.schema;if(!o.isObjectType(r))throw new Error('RequestBody is formData, expected an object schema, got "'+JSON.stringify(r)+'"');return Object.entries(r.properties).map(function(e){var t=e[0],n=e[1];return{name:i(t),swaggerName:t,type:"formData",required:!!r.required&&r.required.includes(t),jsonSchema:n}})}return[{name:"body",swaggerName:"requestBody",type:"body",required:!!e.required,jsonSchema:function(){if(e.content["application/json"])return e.content["application/json"].schema;throw new Error("Unsupported content type(s) found: "+Object.keys(e.content).join(", "))}()}]},t.getAllEndPoints=function(e){var r={},n=t.getServerPath(e);return Object.keys(e.paths).forEach(function(o){var c=e.paths[o];Object.keys(c).forEach(function(e){if("parameters"!==e){var u=c[e],p=-1!==["post","put","patch","delete"].indexOf(e),l=u.operationId?i(u.operationId):function(e,t){return""+e+i(t.replace(/[{}]+/g,""))}(e,o);c.parameters&&(u.parameters?u.parameters=c.parameters.concat(u.parameters):u.parameters=c.parameters);var f=u.requestBody?t.getParamDetailsFromRequestBody(u.requestBody):[],h=(u.parameters?u.parameters.map(function(e){return t.getParamDetails(e)}):[]).concat(f),d={parameters:h,description:u.description,response:t.getSuccessResponse(u.responses),getRequestOptions:function(t){return a.getRequestOptions({parameterDetails:h,parameterValues:t,baseUrl:n,path:o,method:e,formData:u.consumes?!u.consumes.includes("application/json"):!!u.requestBody&&(r=u.requestBody,!!r.content[s])});var r},mutation:p};r[l]=d}})}),r}},715:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isOa3Param=function(e){return!!e.schema}},716:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestOptions=function(e){var t=e.method,r=e.baseUrl,n=e.path,a=e.parameterDetails,o=e.parameterValues,i=e.formData,s={method:t,baseUrl:r,path:n,bodyType:void 0!==i&&i?"formData":"json",headers:{},query:{},body:{}};return a.forEach(function(e){var r=e.name,a=e.swaggerName,i=e.type,c=e.required,u=o[r];if(c&&!u&&""!==u)throw new Error("No required request field "+r+" for "+t.toUpperCase()+" "+n);if(u||""===u)switch(i){case"body":s.body=u;break;case"formData":s.body[a]=u;break;case"path":s.path="string"===typeof s.path?s.path.replace("{"+a+"}",u):s.path;break;case"query":s.query[a]=u;break;case"header":s.headers[a]=u;break;default:throw new Error('Unsupported param type for param "'+r+'" and type "'+i+'"')}}),s}},717:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),i=a(r(718)),s=r(330),c={string:o.GraphQLString,date:o.GraphQLString,integer:o.GraphQLInt,number:o.GraphQLFloat,boolean:o.GraphQLBoolean};function u(e,t){var r=c["int64"===e?"string":t];return r||c.string}t.jsonSchemaTypeToGraphQL=function(e,r,n,a,i,c){var p=function(){if(s.isBodyType(r))return t.jsonSchemaTypeToGraphQL(e,r.schema,n,a,i,c);if(s.isObjectType(r)||s.isArrayType(r))return t.createGraphQLType(r,e+"_"+n,a,i);if("file"===r.type)return t.createGraphQLType({type:"object",required:[],properties:{unsupported:{type:"string"}}},e+"_"+n,a,i);if(r.type)return u(r.format,r.type);throw new Error("Don't know how to handle schema "+JSON.stringify(r)+" without type and schema")}();return c?o.GraphQLNonNull(p):p};var p=function(e){return e.replace(/[^_0-9A-Za-z]/g,"_")};t.getTypeFields=function(e,r,n,a){return s.isObjectType(e)&&!Object.keys(e.properties||{}).length?{empty:{description:"default field",type:o.GraphQLString}}:function(){var o={};return s.isObjectType(e)&&Object.keys(e.properties).forEach(function(t){o[p(t)]=e.properties[t]}),i.default(o,function(o,i){var c=t.jsonSchemaTypeToGraphQL(r,o,i,n,a,!!(s.isObjectType(e)&&e.required&&e.required.includes(i)));return{description:o.description,type:c}})}},t.createGraphQLType=function(e,r,a,i){if(r=e&&e.title||r,r=p(r),a&&!r.endsWith("Input")&&(r+="Input"),r in i)return i[r];if(e?e.title||(e=n({},e,{title:r})):e={type:"object",properties:{},required:[],description:"",title:r},s.isArrayType(e)){var c=Array.isArray(e.items)?e.items[0]:e.items;if(s.isObjectType(c)||s.isArrayType(c))return new o.GraphQLList(o.GraphQLNonNull(t.createGraphQLType(c,r+"_items",a,i)));if("file"===c.type)return new o.GraphQLList(o.GraphQLNonNull(t.createGraphQLType({type:"object",required:[],properties:{unsupported:{type:"string"}}},r,a,i)));var l=u(c.format,c.type);return new o.GraphQLList(o.GraphQLNonNull(l))}var f,h=e.description,d=t.getTypeFields(e,r,a,i);return f=a?new o.GraphQLInputObjectType({name:r,description:h,fields:d}):new o.GraphQLObjectType({name:r,description:h,fields:d}),i[r]=f,f},t.mapParametersToFields=function(e,r,n){return e.reduce(function(e,a){var o=t.jsonSchemaTypeToGraphQL("param_"+r,a.jsonSchema,a.name,!0,n,a.required);return e[a.name]={type:o},e},{})}},834:function(e,t){},843:function(e,t,r){},845:function(e,t,r){"use strict";r.r(t);var n=r(8),a=r.n(n),o=r(154),i=r.n(o),s=(r(377),r(226)),c=r(81),u=r.n(c),p=r(160),l=r(77),f=r.n(l),h=r(368),d=r(369),y=r(370),m=r.n(y),b=r(371);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach(function(t){Object(h.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r(843);var j=function(e){var t=e.onChangeSchema,r=Object(n.useState)("initial"),o=Object(s.a)(r,2),i=o[0],u=o[1],p=Object(n.useRef)(null);return a.a.createElement("form",{className:"changeSchemaForm",onSubmitCapture:function(e){e.preventDefault(),u("loading"),function(e){return Object(b.createSchema)(e,{callBackend:function(){var e=Object(d.a)(f.a.mark(function e(t){var r,n,a,o,i,s,c,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.requestOptions,n=r.method,a=r.body,o=r.baseUrl,i=r.path,s=r.query,c=r.headers,u=r.bodyType,e.abrupt("return",m()(v({},"json"===u&&{json:!0,body:a},{},"formData"===u&&{form:a},{qs:s,method:n,headers:c,baseUrl:o,uri:i})));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()})}(e.currentTarget.url.value).then(function(e){u("initial"),t(e)},function(e){return u(e)})}},a.a.createElement("input",{name:"url",className:"urlInput",placeholder:"Paste a swagger/openapi url here..."}),a.a.createElement("input",{type:"submit",hidden:!0,ref:p}),a.a.createElement(c.ToolbarButton,{onClick:function(){p.current&&p.current.click()},title:"Fetches the Swagger/OpenAPI schema and converts it to GraphQL",label:"loading"===i?"Update schema...":"Update schema"}),i instanceof Error&&a.a.createElement("span",{className:"changeSchemaFormError"},"Error: ".concat(i.message)))},w=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),r=t[0],o=t[1],i=Object(n.useRef)();return r instanceof Error?a.a.createElement("pre",null,"Got error: ".concat(r.message)):a.a.createElement(u.a,{ref:i,schema:r,fetcher:function(e){var t=e.query,n=e.variables;if(r)return Object(p.a)(r,t,n)}},a.a.createElement(u.a.Toolbar,null,a.a.createElement(c.ToolbarButton,{onClick:function(){i.current.handlePrettifyQuery()},title:"Prettify Query (Shift-Ctrl-P)",label:"Prettify"}),a.a.createElement(c.ToolbarButton,{onClick:function(){i.current.handleMergeQuery()},title:"Merge Query (Shift-Ctrl-M)",label:"Merge"}),a.a.createElement(c.ToolbarButton,{onClick:function(){i.current.handleCopyQuery()},title:"Copy Query (Shift-Ctrl-C)",label:"Copy"}),a.a.createElement(c.ToolbarButton,{onClick:function(){i.current.handleToggleHistory()},title:"Show History",label:"History"}),a.a.createElement(j,{onChangeSchema:o})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(844);i.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[372,1,2]]]);
//# sourceMappingURL=main.f5ffd947.chunk.js.map